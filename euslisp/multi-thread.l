(setq num-threads 10)
(need-thread (* num-threads 2))
(setq robots nil)
(do ((i 0 (+ i 1)))((>= i num-threads))
    (push (instance sample-robot :init) robots))
(setq tids nil)
(do ((i 0 (+ i 1)))((>= i num-threads))
    (push (sys::thread #'parallel-ik-threads (elt robots i) (float-vector i i i)) tids)
    )
(setq results nil)
(dolist (tid tids)
  (push (sys:wait-thread tid) results))
(print results)
