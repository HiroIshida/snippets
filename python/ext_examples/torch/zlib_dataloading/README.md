As long as multiple workers are used, the overhead of compressing and decompressing the data is negligible.

h-ishida@azarashi:~/misc/snippets/python/ext_examples/torch/zlib_dataloading$ python3 main.py --num 6
100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 300000/300000 [00:12<00:00, 23387.91it/s]
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 1500/1500 [00:06<00:00, 240.23it/s]
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 1500/1500 [00:06<00:00, 249.68it/s]


h-ishida@azarashi:~/misc/snippets/python/ext_examples/torch/zlib_dataloading$ python3 main.py --compress --num 6
100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 300000/300000 [00:23<00:00, 12792.60it/s]
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 1500/1500 [00:06<00:00, 240.50it/s]
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 1500/1500 [00:05<00:00, 265.26it/s]

h-ishida@azarashi:~/misc/snippets/python/ext_examples/torch/zlib_dataloading$ python3 main.py --compress --num 1
100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 300000/300000 [00:23<00:00, 12544.04it/s]
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 1500/1500 [00:10<00:00, 149.16it/s]
100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 1500/1500 [00:09<00:00, 153.41it/s]
